<!DOCTYPE html>
<html>

<head>

<title>Conway Twitty's Game of Life</title>

<style type="text/css">

	html, body {
		margin: 0px;
		padding: 0px;
		background-color: #333333;
		color:  #ffffff;
	}
	div#buttons {
		width:  514px;
		border:  0px;
	}
	.center{
		margin-right: auto;
		margin-left: auto;
		text-align:  center;
	}
	.width30 {
		width:  30%
	}
	.width514 {
		width:  514px;
	}
	button {
		font-size:  1.5em;
	}
	.block {
		display: inline;
	}
	.canvborder {
		border:  5px #ffffff solid;
	}

</style>


<script src="jquery-3.3.1.min.js"></script>
<script src="conway.js"></script>

<script type="text/javascript">

	$(function() {
	conway.listen(function(pixel) {

		var canv = $("#grid")[0].getContext('2d');
		canv.strokeStyle = '#ffffff';
		canv.fillStyle = '#ffffff';

		canv.clearRect(0, 0, 512, 512);
		for (var x = 0; x < pixel.length; x++) {
			for (var y = 0; y < pixel[0].length; y++) {
				canv.beginPath();
				canv.rect(y * 16, x * 16, 16, 16);
				canv.stroke();
				if (pixel[x][y]) canv.fill();
			}
		}
	});

	conway.initialize();

	$("#grid").click(function(e) {
		// this is a controller  - event handler that fires when someone clicks on a cell

console.log(e.offsetX +' ' + e.offsetY );
		//var cell = $(this).attr("");
		var y = Math.floor(e.offsetX/(512/32))
		var x = Math.floor(e.offsetY/(512/32))
		console.log(x);
		console.log(y);
		// we forward the move to the model
		conway.setPixel(x, y);
	});

	});

</script>

</head>

<body>

<div class="center">
	<canvas id="grid" width="512" height="512" class="canvborder">HTML5 compatible browser required.</canvas>
</div>

<div id="buttons" class="center">
	<button id="init" class="width30" onclick="conway.initialize();">Initialize Mode</button>
	<button id="randomize" onclick="conway.randomize();" class="width30">Randomize Mode</button>
	<button id="go" class="width30">Begin Conway</button>
</div>
<div class="center width514">
	<span class="width30 block">Fewer dots</span>
	<span class="width30 block"><input id="howRandom" type="range" min="5" max="35" /></span>
	<span class="width30 block">More dots</span>
</div>

</body>

<script>



</script>

</html>
